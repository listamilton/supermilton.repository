import re
import xbmc
from pulsar.addon import ADDON_NAME, ADDON


def notify(message='', header=None, time=5000, image=''):
    if header is None:
        header = ADDON_NAME
    return xbmc.executebuiltin('Notification("%s", "%s", "%d", "%s")' %
                        (header, message, time, image))

def GetLocalizedStrings(label):
    ids = re.compile('LOCALIZE\[(\d+)\]').findall(label)
    
    if ids:
        if label == 'LOCALIZE[%s]' % ids[0]:
            return ADDON.getLocalizedString(int(ids[0])).encode('utf-8')
        
        for id in ids:
            LocalizedString = ADDON.getLocalizedString(int(id)).encode('utf-8')
            label = label.replace('LOCALIZE[%s]' % id, LocalizedString)
            
    return label